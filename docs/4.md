# Data Wrangling

<iframe width="616" height="347" src="https://www.youtube.com/embed/sz_dsktIjt4" title="Lecture 4: Data Wrangling (2020)" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

你是否曾经想要将某种格式的数据转换成另一种格式 ？你肯定想过 ！

因此，本节讲座，我们将向你展示如何进行数据处理

更具体地说：无论原始数据 in text or binary format，我们都将对其进行处理，直到数据的格式符合你的需求 !

---

在前几节讲座中，其实我们已经见过一些基础的数据处理方法了

只要你使用 the `|` operator，其实你就是在进行某种形式的数据处理

比如，如果你在 shell 中执行命令 `journalctl | grep -i intel`

这条命令就会找出所有包含 intel（不区分大小写）字样的系统日志条目

You may not think of it as wrangling data, but it is going from one format (your entire system log) to a format that is more useful to you (just the intel log entries)

其实，Most data wrangling is about knowing what tools you have at your disposal, and how to combine them.

---

Let’s start from the beginning.

To wrangle data, we need two things: data to wrangle, and something to do with it.

Logs often make for a good use-case, because you often want to investigate things about them, and reading the whole thing isn’t feasible.

Let’s figure out who’s trying to log into my server by looking at my server’s log:

```bash
ssh myserver journalctl
```

That’s far too much stuff. Let’s limit it to ssh stuff:

```bash
ssh myserver journalctl | grep sshd
```

Notice that we’re using a pipe to stream a remote file through `grep` on our local computer!

`ssh` is magical, and we will talk more about it in the next lecture on the command-line environment

This is still way more stuff than we wanted though. And pretty hard to read. Let’s do better:

```bash
ssh myserver 'journalctl | grep sshd | grep "Disconnected from"' | less
```

Why the additional quoting ?

Well, our logs may be quite large, and it’s wasteful to stream it all to our computer and then do the filtering

Instead, we can do the filtering on the remote server, and then massage the data locally

`less` gives us a “pager” that allows us to scroll up and down through the long output

To save some additional traffic while we debug our command-line, we can even stick the current filtered logs into a file so that we don’t have to access the network while developing:

```bash
ssh myserver 'journalctl | grep sshd | grep "Disconnected from"' > ssh.log
less ssh.log
```



### Notes on the class



### Exericses after this class


